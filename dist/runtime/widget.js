System.register(["jimu-ui","jimu-core"],(function(e,t){var a={},r={};return{setters:[function(e){a.MultiSelect=e.MultiSelect},function(e){r.DataSourceComponent=e.DataSourceComponent,r.DataSourceManager=e.DataSourceManager,r.React=e.React}],execute:function(){e((()=>{var e={891:e=>{"use strict";e.exports=r},726:e=>{"use strict";e.exports=a}},t={};function l(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,l),s.exports}l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="";var s={};return l.p=window.jimuConfig.baseUrl,(()=>{"use strict";l.r(s),l.d(s,{__set_webpack_public_path__:()=>c,default:()=>u});var e=l(726),t=l(891),a=function(e,t,a,r){return new(a||(a=Promise))((function(l,s){function n(e){try{c(r.next(e))}catch(e){s(e)}}function u(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,u)}c((r=r.apply(e,t||[])).next())}))};const{useState:r,useEffect:n}=t.React;function u(l){const[s,u]=r([]);n((()=>{}),[]);const c=()=>!(!l.useDataSources||1!==l.useDataSources.length||!l.useDataSources[0].fields||1!==l.useDataSources[0].fields.length),i=e=>a(this,void 0,void 0,(function*(){if(!c())return;const a=l.useDataSources[0].dataSourceId,r=t.DataSourceManager.getInstance().getDataSource(a),s=r.layer,n=r.getSelectedRecords()[0],u=n.getId(),i=s.createQuery();i.where=`objectid = ${u}`;const o=yield s.queryFeatures(i).then((e=>e.features[0]));o.attributes.symptom_kr=e.join(";");const d={updateFeatures:[o]};try{s.applyEdits(d).then((e=>{})),console.log("Values saved successfully: ",n)}catch(e){console.error("Error saving values:",e)}}));return c()?t.React.createElement("div",{className:"widget-use-feature-layer",style:{width:"100%",height:"100%",maxHeight:"800px",overflow:"auto"}},t.React.createElement(t.DataSourceComponent,{useDataSource:l.useDataSources[0],widgetId:l.id,onDataSourceInfoChange:e=>a(this,void 0,void 0,(function*(){const e=l.useDataSources[0].dataSourceId,a=t.DataSourceManager.getInstance().getDataSource(e),r=a.layer;if(0===a.getSelectedRecords().length)return;const s=a.getSelectedRecords()[0].getId(),n=r.createQuery(a.getSelectedRecords());n.where=`objectid = ${s}`;const c=(yield r.queryFeatures(n).then((e=>e.features[0]))).attributes.symptom_kr.split(";").filter((e=>!e.includes(" ")));console.log("Attribute value:",c),u(c)})),queryCount:!0},t.React.createElement(e.MultiSelect,{widgetId:"multi-select",items:[{label:"00-sans dégâts (ohne Schäden)",value:"00-sans dégâts (ohne Schäden)"},{label:"01-blessures (Verletzungen)",value:"01-blessures (Verletzungen)"},{label:"02-cavité (Höhlung)",value:"02-cavité (Höhlung)"},{label:"03-champignons (Pilzbefall)",value:"03-champignons (Pilzbefall)"},{label:"04-fissure/nervure (Riss/Rippe)",value:"04-fissure/nervure (Riss/Rippe)"},{label:"05-fourche (Vergabelung)",value:"05-fourche (Vergabelung)"},{label:"06-suspicion sur l'écorce (Rindenauffälligkeit)",value:"06-suspicion sur l'écorce (Rindenauffälligkeit)"},{label:"07-branches mortes (Totholz)",value:"07-branches mortes (Totholz)"},{label:"08-déssèchement de la cime (Wipfeldürre)",value:"08-déssèchement de la cime (Wipfeldürre)"},{label:"11-branche tombée ou cassée (Astabbruch, Astausbruch)",value:"11-branche tombée ou cassée (Astabbruch, Astausbruch)"},{label:"12-cime déséquilibrée (ungleichmässiger Kronenaufbau)",value:"12-cime déséquilibrée (ungleichmässiger Kronenaufbau)"},{label:"13-ancien hauban (Alte Kronensicherung)",value:"13-ancien hauban (Alte Kronensicherung)"},{label:"14-végétation étrangère à l'arbre (Baumfremder Bewuchs)",value:"14-végétation étrangère à l'arbre (Baumfremder Bewuchs)"},{label:"15-dégâts causés par véhicules (Anfahrschaden)",value:"15-dégâts causés par véhicules (Anfahrschaden)"},{label:"16-gênante sur terrain public (stört öffentlichen Raum)",value:"16-gênante sur terrain public (stört öffentlichen Raum)"},{label:"17-gênante sur terrain privé (stört privaten Raum)",value:"17-gênante sur terrain privé (stört privaten Raum)"},{label:"18-déssechement des extrémités (Astdürre)",value:"18-déssechement des extrémités (Astdürre)"},{label:"19-déssechement localisé (lokale Dürrestellen)",value:"19-déssechement localisé (lokale Dürrestellen)"},{label:"21-défoliation précoce (vorzeitiger Blattfall)",value:"21-défoliation précoce (vorzeitiger Blattfall)"},{label:"22-pas applicable (nicht anwendbar)",value:"22-pas applicable (nicht anwendbar)"},{label:"23-cime clairsemée (lichte Krone)",value:"23-cime clairsemée (lichte Krone)"},{label:"24-maladie(s) (Krankheiten)",value:"24-maladie(s) (Krankheiten)"},{label:"25-parasite(s) (Parasiten)",value:"25-parasite(s) (Parasiten)"},{label:"26-bras frotteurs (reibende Äste)",value:"26-bras frotteurs (reibende Äste)"},{label:"27-dégâts de chantier",value:"27-dégâts de chantier"}],values:s,placeholder:"Please select some items",onClickItem:()=>{u(s),i(s)}}))):t.React.createElement("h3",null,"This widget demonstrates how to use a feature layer as a data source.",t.React.createElement("br",null),"Configure the data source.")}function c(e){l.p=e}})(),s})())}}}));